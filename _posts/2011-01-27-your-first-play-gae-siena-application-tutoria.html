---
layout: post
title: ! 'Your first Play! – GAE – Siena application: Tutorial with Example'
published: true
date: 2011-01-27
categories: []
posterous_url: http://flmendes.posterous.com/your-first-play-gae-siena-application-tutoria
posterous_slug: your-first-play-gae-siena-application-tutoria
---
<div class="posterous_bookmarklet_entry">
      <blockquote><div>
	<p>
	</p><div>

	<h3>Your first Play! – GAE – Siena application: Tutorial with Example</h3>

	<ul>
	<li>By <a href="http://viralpatel.net/blogs/author/viral/" title="Posts by Viral Patel">Viral Patel</a> on January 25, 2011</li>
	<li><a href="http://viralpatel.net/blogs/category/j2ee" title="View all posts in J2EE" rel="category tag">J2EE</a>, <a href="http://viralpatel.net/blogs/category/java" title="View all posts in Java" rel="category tag">Java</a>, <a href="http://viralpatel.net/blogs/category/tutorial" title="View all posts in Tutorial" rel="category tag">Tutorial</a></li>
			</ul><p>


<ins style="display: inline-table; border: none; height: 60px; margin: 0; padding: 0;"><ins style="display: block; border: none; height: 60px; margin: 0; padding: 0;"></ins></ins>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;




	</p><div>
	<p><img title="Play-framework" src="http://img.viralpatel.net/2011/01/Play-framework.png" height="79" alt="Play-framework" width="200" /><strong>Convention over configuration</strong> has became a buzz word these days. It is a software design paradigm which seeks to decrease the number of decisions that developers need to make, gaining simplicity, but not necessarily losing flexibility. More and more web frameworks are using this approach and making web development simple. Ruby on rails, DJango, Grails, CakePHP, ASP .NET, Apache Wicket etc are few in top demand these days. </p>
<h3>What’s Play!?</h3>
<p>One of the newest one is <strong>Play! framework</strong>. Play is heavily inspired by Ruby on Rails and Django. A developer familiar with any of these frameworks will feel at home. Play leverages the power of Java to build web applications in an environment that is not Java Enterprise Edition-centric. By lifting away the Java EE constraints, Play provides developers with an easy-to-develop and elegant stack aimed at productivity.</p>
<p>I have worked in CakePHP and I am a big fan of it. I believe Play! is bringing the same experience of fast web application development to the Java world, right from hello world baby steps to create a full production ready application and writing tests.</p>
<p>When you visit <a href="http://www.playframework.org/documentation/1.1/overview" rel="nofollow" target="_blank">Play!’s overview</a> webpage on their site, the very first line will surely catch your attention.</p>
<p><em>The Play framework is a clean alternative to <strong>bloated Enterprise Java stacks</strong>. It focuses on developer productivity and targets RESTful architectures. Play is a perfect companion to agile software development.<br />
</em></p>
<p>Although the words <em>“bloated Enterprise Java stacks”</em> may offend many Java developers who are very used to work with <a href="http://viralpatel.net/blogs/2010/06/tutorial-spring-3-mvc-introduction-spring-mvc-framework.html">Spring MVC</a>, <a href="http://viralpatel.net/blogs/2009/12/introduction-to-struts-2-framework.html">Struts</a> of <a href="http://viralpatel.net/blogs/2009/02/tutorial-creating-javaserver-faces-jsf-application-in-eclipse-jsf-project-jsf-tutorial.html">JavaServer Faces</a>;  I think its more of less correct and many of us already feels so working for years now in Spring / Struts and realizing how much boiler plate code is being pushed into system and how complex things became over period of time.</p>
<p>What I like most about Play! framework is the flexibility of this new framework and how easy it makes the life of developer. The application development becomes a piece of cake (like most CakePHP developers will feel). And the best part is all this you can do with Java without switching your favorite language and shifting to other like Rube or PHP.</p>
<h3>Highlights of Play! framework</h3>
<p>Let us see few differences of Play! from other Java frameworks <span style="color: #999;">(Courtesy Wiki)</span>:</p>
<ul>
<li>Play is fully RESTful – there is no Java EE session per connection. This makes Play more outwardly-scalable than many other frameworks.</li>
<li>No configuration: download, unpack and develop – it’s that simple.</li>
<li>Easy round trips: no need to deploy to an application server, just edit the code and press the refresh button on the browser.</li>
<li>Integrated unit testing: unit testing is at the core of Play!</li>
<li>Elegant API: rarely will a developer need to import any third party library – Play comes with all the typical stuff built-in.
</li>
<li>CRUD module: easily build administration UI with little code.</li>
<li>Play is a web framework: it is language agnostic and currently supports Java and Scala.</li>
<li>Modular architecture</li>
</ul>
<h3>Your first Play! application</h3>
<p>Hello world in Play! is straight forward. I will not spend much time in describing steps for installing and configuring Play!. On its homepage, Play! framework developer <em>Guillaume Bort</em> has made this wonderful getting started screencast which you can follow to create your very first Play! application.</p>
<p></p>
<p>Few points I would like to highlight here is:</p>
<ul>
<li>Play is a real “Share nothing” system. Ready for REST, it is easily scaled by running multiple instances of the same application on several servers.</li>
<li>Play! loads the code dynamically. Just fix the bug in Java file and hit reload and voila, the change will get reflected instantly on webpage. No need to go through those sluggish rebuild / deployment / server restart.</li>
<li>Play! comes with a very efficient template system. The template system is based on Groovy as an expression language. It provides template inheritence, includes and tags.</li>
<li>A fully functional stack of modules are available in Play!. Provides integration with Hibernate, OpenID, Memcached… And a plugin system to create your own customize plugin or include one from hundreds of freely available ones. </li>
<li>Error discovery is very easy with Play!. When an error occurs, play shows you the source code and the exact line containing the problem. Even in templates.</li>
</ul>
<h3>Your first Play! – GAE – Siena application</h3>
<p>For this tutorial, I have chosen a little complex example which we develop in Play! and deploy on <strong>Google App Engine</strong> (GAE). The GAE offers fast development and deployment; simple administration, with no need to worry about hardware, patches or backups; and effortless scalability. The Google app engine does not support SQL or RDBMS. The App Engine datastore provides robust, scalable storage for your web application, with an emphasis on read and query performance. An application creates entities, with data values stored as properties of an entity. The app can perform queries over entities. All queries are pre-indexed for fast results over very large data sets.</p>
<p>Our demo application called <strong>eazyBookmark</strong> is already running on Google App engine. This is a Bookmark application where user can login and save their bookmarks. Click below image to visit online demo.</p>
<h3>Online Demo</h3>
<p><a href="http://eazybookmark.appspot.com/"><img title="eazybookmark-logo" src="http://img.viralpatel.net/2011/01/eazybookmark-logo.bmp" height="34" alt="eazybookmark-logo" width="175" /></a></p><a href="http://eazybookmark.appspot.com/"></a><p><br />
Link: <a href="http://eazybookmark.appspot.com/" target="_blank">http://eazybookmark.appspot.com/</a></p>
<p>Following are the functional aspects of <strong>eazyBookmark</strong> app.</p>
<ol>
<li>User can login to eazyBookmark using their Google account. No need to remember password for new account.</li>
<li>Using “Add link” functionality, user can add any URL and save as bookmark.</li>
<li>Any bookmark can be tagged with multiple tags. This way user can organize the links easily.</li>
<li>A bookmark once added can later be Edited or deleted.</li>
<li>A small bookmarklet script is available for user to add it in browser favorites. This bookmarklet can be later used by User to bookmark any webpage. Read <a href="http://eazybookmark.appspot.com/tools.html" target="_blank">Tools</a> page of <strong>eazyBookmark</strong>.</li>
</ol>
<p><img title="eazybookmark-screen" src="http://img.viralpatel.net/2011/01/eazybookmark-screen.png" height="387" alt="eazybookmark-screen" width="500" /></p>
<h3>Getting started</h3>
<p>Create a blank application in Play! using play create eazybookmark commnd.</p>
<div class="CodeRay">
  <div class="code"><div class="CodeRay">
  <div class="code"><pre>C:\Play&gt;play new eazybookmark
~        _            _
~  _ __ | | __ _ _  _| |
~ | '_ \| |/ _' | || |_|
~ |  __/|_|\____|\__ (_)
~ |_|            |__/
~
~ play! 1.1, http://www.playframework.org
~
~ The new application will be created in C:\Play\eazybookmark
~ What is the application name? [eazybookmark]
~
~ OK, the application is created.
~ Start it with : play run eazybookmark
~ Have fun!
~</pre></div>
</div>
</div>
</div>

<p>The above Hello World video shows in depth how to install and use Play and create your first application.</p>
<h3>Adding Google App Engine (GAE) and Siena module to Play!</h3>
<p>We need two modules for our eazybookmark application. One is Google App engine (GAE) and another one is Siena. You can install these modules by running following command with Play!.</p>
<div class="CodeRay">
  <div class="code"><div class="CodeRay">
  <div class="code"><pre>C:\Play&gt; play install gae
..
..
C:\Play&gt; play install siena</pre></div>
</div>
</div>
</div>

<p>The above commands will install latest version of these modules. If you are behind proxy than the above command may fails. Currently there is no way of setting up proxy with Play! (v1.1) so you can manually download <a href="http://www.playframework.org/modules/gae" rel="nofollow" target="_blank">gae</a> and <a href="http://www.playframework.org/modules/siena" rel="nofollow" target="_blank">siena</a> from its homepage and copy them in /modules directory of your Play!.</p>
<p>Once the modules are installed successfully, you can add following lines in eazybookmark apps /conf/application.conf file.</p>
<div class="CodeRay">
  <div class="code"><div class="CodeRay">
  <div class="code"><pre># ---- Google app engine module ----
module.gae=${play.path}/modules/gae-1.4
# ---- Siena module ----
module.siena=${play.path}/modules/siena-1.3</pre></div>
</div>
</div>
</div>

<p>You may want to restart the Play application to reflect the changes of the modules.</p>
<p>Once the application is restarted, the GAE module creates <code>/war/WEB-INF/appengine-web.xml</code> file. You need to update this file and add the application id of GAE. In our case we will have following data.<br />
File: /war/WEB-INF/appengine-web.xml</p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div></td><td><div><div><code><code>appengine-web-app</code> <code>xmlns</code><code>=</code><code>"http://appengine.google.com/ns/1.0"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>application</code><code>&gt;eazybookmark<code>application</code><code>&gt;</code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>version</code><code>&gt;1<code>version</code><code>&gt;</code></code></code></div><div><code><code>appengine-web-app</code><code>&gt;</code></code></div></div></td></tr></table></div></div>
<p>You may want to replace eazybookmark with your own GAE Application ID.</p>
<h3>Play! and Siena models</h3>
<p>Let us first review the model classes we going to use for our application. We will have four model classes.</p>
<ul>
<li><strong>User</strong> – This is a User model. All user related information such as email, name, etc will get stored here.</li>
<li><strong>Link</strong> – This is Link model. All links related information such as URL, title, description etc will get stored here.</li>
<li><strong>Tag</strong> – This is Tag model. All the tags related information such as tagname etc will get stored here.</li>
<li><strong>LinkTag</strong> – This is a mapping model which maps Links with Tag. In Siena to create Many to Many relationship we need to create three classes. This class maps Link and Tag and add a many to many relationship to these entities.</li>
</ul>
<p>Here is the code for each of the models.</p>
<p><em>File: /app/model/User.java</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div></td><td><div><div><code>package</code> <code>models;</code></div><p /><div><code>import</code> <code>siena.*;</code></div><p /><div><code>public</code> <code>class</code> <code>User </code><code>extends</code> <code>Model {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Id</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Long id;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String email;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String name;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Date created;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Date modified;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>static</code> <code>Query all() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>Model.all(User.</code><code>class</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>User findById(Long id) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>all().filter(</code><code>"id"</code><code>, id).get();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>User findByEmail(String email) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>all().filter(</code><code>"email"</code><code>, email).get();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>User() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>super</code><code>();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>User(String email) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>this</code><code>.email = email;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String toString() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>email;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>}</code></div></div></td></tr></table></div></div>
<p>The User model has few attributes like email, name, created and modified which define a user. Few methods like <code>findById()</code> and <code>findByEmail()</code> select the User based on Id and email respectively.</p>
<p><em>File: /app/model/Link.java</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div><div>49</div><div>50</div><div>51</div><div>52</div><div>53</div><div>54</div><div>55</div><div>56</div><div>57</div><div>58</div><div>59</div><div>60</div><div>61</div><div>62</div><div>63</div><div>64</div><div>65</div><div>66</div><div>67</div><div>68</div><div>69</div><div>70</div><div>71</div><div>72</div><div>73</div><div>74</div><div>75</div><div>76</div><div>77</div></td><td><div><div><code>package</code> <code>models;</code></div><p /><div><code>import</code> <code>java.util.*;</code></div><div><code>import</code> <code>siena.*;</code></div><p /><div><code>public</code> <code>class</code> <code>Link </code><code>extends</code> <code>Model {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Id</code><code>(Generator.AUTO_INCREMENT)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Long id;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String url;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String title;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String description;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Date created;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Date modified;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Filter</code><code>(</code><code>"link"</code><code>)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Query linktags;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Index</code><code>(</code><code>"user_index"</code><code>)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>User user;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Link(User user, String url) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>super</code><code>();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>this</code><code>.url = url;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>this</code><code>.user = user;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Link() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>super</code><code>();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>static</code> <code>Query all() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>Model.all(Link.</code><code>class</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>Link findById(Long id) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>all().filter(</code><code>"id"</code><code>, id).get();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>List findByUser(User user) {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>all().filter(</code><code>"user"</code><code>, user).order(</code><code>"-created"</code><code>).fetch();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>addTag(Link link, Tag tag) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>LinkTag linkTag = </code><code>new</code> <code>LinkTag(link, tag);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>linkTag.insert();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String toString() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>url;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>List findTagsByLink() {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List tags = LinkTag.findByLink(</code><code>this</code><code>);</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>tags;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>addTagsFromCSV(Link link, String tagcsv, User user) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Collection tags = </code><code>null</code><code>;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(</code><code>null</code> <code>!= tagcsv || !tagcsv.equalsIgnoreCase(</code><code>""</code><code>)) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>String [] tagArr = tagcsv.split(</code><code>","</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>tags = </code><code>new</code> <code>ArrayList();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code><code>(String tagstr : tagArr) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>tagstr = play.templates.JavaExtensions.slugify(tagstr.trim()).trim();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(</code><code>null</code> <code>!= tagstr &amp;&amp; !tagstr.equals(</code><code>""</code><code>)) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Link.addTag(link, Tag.findOrCreateByName(tagstr,user));</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>}</code></div></div></td></tr></table></div></div>
<p>The Link model class is similar to User. It has its own attributes such as url, title, description etc. Also note that Link model has few methods like <code>findById()</code>, <code>findTagsByLink()</code>, <code>addTag()</code>, <code>addTagsFromCSV()</code> etc. These methods are used from the controller to manipulate the link data. The Link has a many to many relationship with Tag. One link can have multiple tags attached to it.</p>
<p><em>File: /app/model/Tag.java</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div></td><td><div><div><code>package</code> <code>models;</code></div><p /><div><code>import</code> <code>siena.*;</code></div><div><code>import</code> <code>java.util.*;</code></div><p /><div><code>public</code> <code>class</code> <code>Tag </code><code>extends</code> <code>Model {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Id</code><code>(Generator.AUTO_INCREMENT)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Long id;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String name;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Index</code><code>(</code><code>"user_index"</code><code>)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>User user;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>Query all() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>Model.all(Tag.</code><code>class</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>Tag findOrCreateByName(String name, User user) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Tag tag = all().filter(</code><code>"user"</code><code>, user).filter(</code><code>"name"</code><code>, name).get();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(</code><code>null</code> <code>== tag) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>tag = </code><code>new</code> <code>Tag();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>tag.name = name;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>tag.user = user;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>tag.insert();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>tag;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>Tag findById(Long id) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code>&nbsp; <code>all().filter(</code><code>"id"</code><code>, id).get();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>Tag findByName(String name, User user) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>all().filter(</code><code>"user"</code><code>, user).filter(</code><code>"name"</code><code>, name).get();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>List findByUser(User user) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>all().filter(</code><code>"user"</code><code>, user).fetch();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String toString() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>name;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>}</code></div></div></td></tr></table></div></div>
<p>The Tag model has one attribute tag name. This can be anything like travel, leisure, technology, news etc. Also note that each tag has one to one mapping with User. This is defined by <code>@Index("user_index")</code> annotation with object User. The Tag has usual methods <code>findById</code>, <code>findByName</code>, <code>findByUser</code>, <code>findOrCreateByName</code> etc which is used from controller to manipulate the Tag data.</p>
<p><em>File: /app/model/LinkTag.java</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div><div>49</div><div>50</div><div>51</div><div>52</div><div>53</div><div>54</div><div>55</div><div>56</div><div>57</div><div>58</div><div>59</div><div>60</div><div>61</div><div>62</div><div>63</div></td><td><div><div><code>package</code> <code>models;</code></div><p /><div><code>import</code> <code>java.util.*;</code></div><div><code>import</code> <code>siena.*;</code></div><p /><div><code>public</code> <code>class</code> <code>LinkTag </code><code>extends</code> <code>Model {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Id</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Long id;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@NotNull</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Column</code><code>(</code><code>"link_id"</code><code>)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Index</code><code>(</code><code>"link_index"</code><code>)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Link link;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@NotNull</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Column</code><code>(</code><code>"tag_id"</code><code>)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Index</code><code>(</code><code>"tag_index"</code><code>)</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>Tag tag;</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>LinkTag(Link link, Tag tag) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>super</code><code>();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>this</code><code>.link = link;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>this</code><code>.tag = tag;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>Query all() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>Model.all(LinkTag.</code><code>class</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>List findByLink(Link link) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List linkTags =&nbsp; all().filter(</code><code>"link"</code><code>, link).fetch();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List tags = </code><code>new</code> <code>ArrayList();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code><code>(LinkTag linkTag : linkTags) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>tags.add(Tag.findById(linkTag.tag.id));</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>tags;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>List findByTag(Tag tag) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List linkTags =&nbsp; all().filter(</code><code>"tag"</code><code>, tag).fetch();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List links = </code><code>new</code> <code>ArrayList();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code><code>(LinkTag linkTag : linkTags) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>links.add(Link.findById(linkTag.link.id));</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>links;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>String toString() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>link.toString()   </code><code>" : "</code> <code>  tag.toString();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>deleteByLink(Link link) {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List linkTags = all().filter(</code><code>"link"</code><code>, link).fetch();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(</code><code>null</code> <code>!= linkTags) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>for</code><code>(LinkTag linktag : linkTags) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>linktag.delete();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>}</code></div></div></td></tr></table></div></div>
<p>The LinkTag model links the models Link and Tag. It adds the Many-to-many relationship between these models. We have few useful methods like <code>findByLink</code>, <code>findByTag</code> to get the list of relationship.</p>
<h3>The Play! Controllers</h3>
<p>The controller in Play! framework handles all the request / response between client and web server. It is a plain Java class which extends Controller class of Play!. In our application we will use two controller classes: <strong>Application</strong> and <strong>Profile</strong>. We will also have a helper class called Auth which has few useful methods to determine is a user is logged in, or to get email address of logged in user. This class invoke GAE module to get the authentication details and route user to Google page for authentication.</p>
<p><em>File: /app/controller/Auth.java</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div></td><td><div><div><code>package</code> <code>controllers;</code></div><p /><div><code>import</code> <code>play.modules.gae.*;</code></div><div><code>import</code> <code>com.google.appengine.api.users.*;</code></div><p /><div><code>public</code> <code>class</code> <code>Auth {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>boolean</code> <code>isLoggedIn() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>GAE.isLoggedIn();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>String getEmail() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>GAE.getUser().getEmail();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>User getUser() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code> <code>GAE.getUser();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>login(String action) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>GAE.login(action);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>logout(String action) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>GAE.logout(action);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>}</code></div></div></td></tr></table></div></div>
<p>Note that above <code>Auth</code> class is not part of controller (We haven’t extended it with Controller). It is just a utility class that we can use from other controllers to access user information. You may want to create your own package <code>utils</code> and keep this class there. For sake of simplicity, I am keeping this in <code>controllers</code> package.</p>
<p><em>File: /app/controller/Application.java</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div></td><td><div><div><code>package</code> <code>controllers;</code></div><p /><div><code>import</code> <code>play.mvc.*;</code></div><p /><div><code>import</code> <code>models.*;</code></div><div><code>import</code> <code>models.User;</code></div><div><code>import</code> <code>java.util.*;</code></div><p /><div><code>public</code> <code>class</code> <code>Application </code><code>extends</code> <code>Controller {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>index() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(Auth.isLoggedIn()) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>User user = User.findByEmail(Auth.getEmail());</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(</code><code>null</code> <code>== user) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>user = </code><code>new</code> <code>User();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>user.email = Auth.getEmail();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>user.created = </code><code>new</code> <code>Date();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>user.insert();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Profile.edit(user.id);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>return</code><code>;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Profile.index(</code><code>null</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>render();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>login() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Auth.login(</code><code>"Application.index"</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>logout() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Auth.logout(</code><code>"Application.index"</code><code>);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>}</code></div></div></td></tr></table></div></div>
<p>Check the Application controller which is the entry point to our application. The index() method will be called whenever user request homepage /. In <code>index()</code> method we are checking if user is logged in. If not, then we show her a Login page using <code>render()</code> method. This method renders the default view of this action. We will see this view later in our example. Also note that if user is authenticated, we redirect it to <code>Profile.index</code> action. If user has logged in for first time in eazyBookmark, she will be redirected to Edit Profile page where she can select username for her profile.</p>
<p><em>File: /app/controller/Profile.java</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div></td><td><div><div><code>package</code> <code>controllers;</code></div><p /><div><code>import</code> <code>models.*;</code></div><div><code>import</code> <code>play.*;</code></div><div><code>import</code> <code>play.mvc.*;</code></div><div><code>import</code> <code>java.util.*;</code></div><p /><div><code>import</code> <code>play.data.validation.*;</code></div><div><code>import</code> <code>java.net.*;</code></div><div><code>import</code> <code>net.htmlparser.jericho.*;</code></div><div><code>import</code> <code>java.io.*;</code></div><p /><div><code>import</code> <code>play.Logger;</code></div><div><code>import</code> <code>models.Tag;</code></div><p /><div><code>public</code> <code>class</code> <code>Profile </code><code>extends</code> <code>Application {</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>@Before</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>static</code> <code>void</code> <code>checkConnected() {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(Auth.getUser() == </code><code>null</code><code>) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>Application.login();</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>} </code><code>else</code> <code>{</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>renderArgs.put(</code><code>"user"</code><code>, Auth.getEmail());</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>public</code> <code>static</code> <code>void</code> <code>index(String tag) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>User user = getUser();</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List links = </code><code>null</code><code>;</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>if</code><code>(</code><code>null</code> <code>== tag || tag.equalsIgnoreCase(</code><code>""</code><code>)) {</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>links = Link.findByUser(user);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>} </code><code>else</code> <code>{</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>links = LinkTag.findByTag(Tag.findByName(tag, user));</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>List tags = Tag.findByUser(user);</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>render(user, links, tags);</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code>}</code></div><div><code>//...</code></div><div><code>//...</code></div><div><code>}</code></div></div></td></tr></table></div></div>
<p>The Profile controller is extended from Application controller to take advantage of login() / logout() method. Also note that this is not the full code for Profile.java. You can check the full source in the project source code.</p>
<h3>The View</h3>
<p>All the view files in Play! framework as saved in /views/ folder with .html extension. These are the plain HTML files with certain groovy template tags. Read more about built-in template tags in Play! <a href="http://www.playframework.org/documentation/1.1/tags" rel="nofollow" target="_blank">here</a>. There is a file main.html in /views folder which act as the template for all other views. Following is the content of main.html for eazyBookmark.</p>
<p><em>File: /views/main.html</em></p>
<div><div><div><span><a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html#">?</a></span></div><table border="0"><tr><td><div>1</div><div>2</div><div>3</div><div>4</div><div>5</div><div>6</div><div>7</div><div>8</div><div>9</div><div>10</div><div>11</div><div>12</div><div>13</div><div>14</div><div>15</div><div>16</div><div>17</div><div>18</div><div>19</div><div>20</div><div>21</div><div>22</div><div>23</div><div>24</div><div>25</div><div>26</div><div>27</div><div>28</div><div>29</div><div>30</div><div>31</div><div>32</div><div>33</div><div>34</div><div>35</div><div>36</div><div>37</div><div>38</div><div>39</div><div>40</div><div>41</div><div>42</div><div>43</div><div>44</div><div>45</div><div>46</div><div>47</div><div>48</div></td><td><div><div><code></code></div><div><code><code>html</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>head</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>title</code><code>&gt;#{get 'title' /}<code>title</code><code>&gt;</code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>meta</code> <code>http-equiv</code><code>=</code><code>"Content-Type"</code> <code>content</code><code>=</code><code>"text/html; charset=utf-8"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>link</code> <code>rel</code><code>=</code><code>"stylesheet"</code> <code>type</code><code>=</code><code>"text/css"</code> <code>media</code><code>=</code><code>"screen"</code> <code>href</code><code>=</code><code>"@{'/public/stylesheets/main.css'}"</code><code>&gt;</code></code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{get 'moreStyles' /}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>link</code> <code>rel</code><code>=</code><code>"shortcut icon"</code> <code>type</code><code>=</code><code>"image/png"</code> <code>href</code><code>=</code><code>"@{'/public/images/favicon.ico'}"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>script</code> <code>src</code><code>=</code><code>"https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"</code> <code>type</code><code>=</code><code>"text/javascript"</code> <code>charset</code><code>=</code><code>"utf-8"</code><code>&gt;<code>script</code><code>&gt;</code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{get 'moreScripts' /}</code></div><p /><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>head</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>body</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"pagewidth"</code> <code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"headerbar"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"headercol"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"logo"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>h3</code><code>&gt;<code>a</code> <code>href</code><code>=</code><code>"/"</code><code>&gt;eazyBookmark<code>a</code><code>&gt;<code>h3</code><code>&gt;</code></code></code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"headerlink"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{if user}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>${user} <code>span</code> <code>class</code><code>=</code><code>"sep"</code><code>&gt;|<code>span</code><code>&gt; <code>a</code> <code>href</code><code>=</code><code>"@{Application.logout()}"</code><code>&gt;Logout<code>a</code><code>&gt;</code></code></code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{/if}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{else}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>a</code> <code>href</code><code>=</code><code>"@{Application.login()}"</code><code>&gt;Login<code>a</code><code>&gt;</code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{/else}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"wrapper"</code> <code>class</code><code>=</code><code>"clearfix"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"maincol"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{if flash.error}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>p</code> <code>class</code><code>=</code><code>"error"</code><code>&gt;${flash.error}<code>p</code><code>&gt;</code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{/if}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{if flash.success}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>p</code> <code>class</code><code>=</code><code>"success"</code><code>&gt;${flash.success}<code>p</code><code>&gt;</code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{/if}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code>#{doLayout /}</code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code> <code>id</code><code>=</code><code>"footer"</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>p</code><code>&gt; Copyright © ${new Date().format('yyyy')}</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>a</code> <code>href</code><code>=</code><code>"http://eazybookmark.appspot.com"</code><code>&gt;eazyBookmark<code>a</code><code>&gt; <code>p</code><code>&gt;</code></code></code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>div</code><code>&gt;</code></code></div><div><code>&nbsp;&nbsp;&nbsp;&nbsp;</code><code><code>body</code><code>&gt;</code></code></div><div><code><code>html</code><code>&gt;</code></code></div></div></td></tr></table></div></div>
<p>In above template main.html file, we have <code>#{doLayout /}</code> tag which renders the content. Also note that we are displaying error / success message using flash mechanism of Play!. </p>
<p>For each controller, we create a separate folder in views/ folder. And these folders will contain the view file for each action in given controller. Thus in <code>/views/Application</code> folder we will have <code>index.html</code> and in <code>/views/Profile</code> folder we will have <code>edit.html</code>, <code>editlink.html</code> and <code>index.html</code>. Download these html files from the source code attached at the end of tutorial.</p>
<h3>Deploying Play! app in Google App Engine (GAE)</h3>
<p>We are done with the coding of our eazyBookmark application. Now we can deploy this app in our GAE account. For that follow the basic steps given here:</p>
<ol>
<li>Get yourself a GAE account and set up an application. you will need the ID.</li>
<li>Download the <a href="http://code.google.com/appengine/downloads.html#Google_App_Engine_SDK_for_Java" rel="nofollow" target="_blank">GAE SDK for Java</a></li>
<li>run play war myappname -o myappname-war</li>
<li>run APPENGINE_SDK_DIR/bin/appcfg update myappname-war/</li>
<li>Log in to your <a href="http://appengine.google.com/" rel="nofollow" target="_blank">app engine console</a> and check out your application!</li>
</ol>
<p>You can check the Online Demo here: <a href="http://eazybookmark.appspot.com" rel="nofollow" target="_blank"><strong>http://eazybookmark.appspot.com</strong></a></p>
<h3>Download full Source Code</h3>
<p><a href="http://viralpatel.net/blogs/download/play/eazybookmark.zip">Click here to download eazyBookmark application</a></p>
<div style="background-color: rgb(255, 241, 168); padding: 3px;"><h3>See also:</h3><ul><li><a href="http://viralpatel.net/blogs/2009/04/tutorial-handle-browser-events-using-jquery-javascript-framework.html" title="Tutorial: Handle browser events using jQuery JavaScript framework">Tutorial: Handle browser events using jQuery JavaScript framework</a></li><li><a href="http://viralpatel.net/blogs/2008/12/ajax-post-method-example-using-javascript-jquery.html" title="AJAX Post method example using javascript &amp; jQuery">AJAX Post method example using javascript &amp; jQuery</a></li><li><a href="http://viralpatel.net/blogs/2008/12/creating-orkut-style-status-update-div-textbox-using-jquery.html" title="Creating orkut style status update div-textbox using jQuery.">Creating orkut style status update div-textbox using jQuery.</a></li><li><a href="http://viralpatel.net/blogs/2010/12/dynamically-shortened-text-show-more-link-jquery.html" title="Dynamically shortened Text with “Show More” link using jQuery">Dynamically shortened Text with “Show More” link using jQuery</a></li><li><a href="http://viralpatel.net/blogs/2010/12/jquery-ajax-handling-unauthenticated-request-ajax.html" title="jQuery Ajax – Handling unauthenticated requests via Ajax">jQuery Ajax – Handling unauthenticated requests via Ajax</a></li><li><a href="http://viralpatel.net/blogs/2010/11/multiple-checkbox-select-deselect-jquery-tutorial-example.html" title="Multiple Checkbox Select/Deselect using jQuery – Tutorial with Example">Multiple Checkbox Select/Deselect using jQuery – Tutorial with Example</a></li><li><a href="http://viralpatel.net/blogs/2010/06/tutorial-spring-3-mvc-introduction-spring-mvc-framework.html" title="Spring 3 MVC – Introduction to Spring 3 MVC Framework">Spring 3 MVC – Introduction to Spring 3 MVC Framework</a></li><li><a href="http://viralpatel.net/blogs/2010/03/understanding-jquery-animate-function.html" title="Understanding jQuery animate() function">Understanding jQuery animate() function</a></li></ul></div><div><p>Get our Articles via Email. Enter your email address.</p></div><br /><a href="http://www.facebook.com/share.php?u=http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html" target="_blank"><img src="http://img.viralpatel.net/facebook-ico.png" border="0" height="48" alt="Facebook" width="47" /></a><p>&nbsp;&nbsp;<a href="http://twitter.com/home?status=http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html target="><b>gravatar</b></a> for free today!</p>







	

	</div></div></div></blockquote><div class="posterous_quote_citation">via <a href="http://viralpatel.net/blogs/2011/01/first-play-framework-gae-siena-application-tutorial-example.html">viralpatel.net</a></div>
    <p></p></div>
